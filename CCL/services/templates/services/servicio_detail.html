{% extends "base.html" %}
{% load static %}

{% block title %}{{ page_title }} - {{ block.super }}{% endblock title %}

{% block extra_head %}
    <link rel="stylesheet" href="{% static 'services/css/servicios_custom.css' %}">
{% endblock extra_head %}

{% block content %}

    <section class="service-detail-hero text-white">
        <div class="container anim-fade-in-down">
            <nav aria-label="breadcrumb">
                <ol class="breadcrumb">
                    <li class="breadcrumb-item"><a href="{% url 'services:servicio-list' %}">Catálogo</a></li>
                    <li class="breadcrumb-item active" aria-current="page">{{ servicio.nombre }}</li>
                </ol>
            </nav>
            <h1 class="display-5 fw-bold">{{ servicio.nombre }}</h1>
            <p class="lead mt-3">{{ servicio.descripcion }}</p>
        </div>
    </section>

    <div class="container py-5">
        
        
        <div class="anim-fade-in-up">
            <h3 class="mb-4 fw-bold">Recursos Disponibles</h3>
        </div>

        <div class="resource-list">
            {% for recurso in recursos %}
                <div class="resource-item anim-fade-in-up" style="animation-delay: {{ forloop.counter0|divisibleby:10|add:forloop.counter|stringformat:'s' }}s;">
                    <div class="resource-icon">
                        {% if recurso.tipo == 'PERSONA' %}
                            <i class="bi bi-person-circle"></i>
                        {% else %}
                            <i class="bi bi-building"></i>
                        {% endif %}
                    </div>
                    <div class="resource-info">
                        <h5 class="card-title mb-1">{{ recurso.nombre }}</h5>
                        <p class="card-text text-muted mb-0">{{ recurso.descripcion|default:"" }}</p>
                    </div>
                    <div class="resource-action">
                        <a href="{% url 'services:recurso-detail' pk=recurso.pk %}" class="btn btn-primary btn-sm">
                            Ver Horarios y Reservar <i class="bi bi-arrow-right-short"></i>
                        </a>
                    </div>
                </div>
            {% empty %}
                <div class="alert alert-warning">
                    Actualmente no hay recursos específicos disponibles para este servicio.
                </div>
            {% endfor %}
        </div>

        <div class="mt-5 anim-fade-in-up" style="animation-delay: 0.5s;">
            <a href="{% url 'services:servicio-list' %}" class="btn btn-outline-secondary">‹ Volver al Catálogo</a>
        </div>
    </div>
{% endblock content %}